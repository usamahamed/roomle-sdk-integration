if(!self.define){let e,t={};const n=(n,s)=>(n=new URL(n+".js",s).href,t[n]||new Promise(t=>{if("document"in self){const e=document.createElement("script");e.src=n,e.onload=t,document.head.appendChild(e)}else e=n,importScripts(n),t()}).then(()=>{let e=t[n];if(!e)throw new Error(`Module ${n} didnâ€™t register its module`);return e}));self.define=(s,r)=>{const o=e||("document"in self?document.currentScript.src:"")||location.href;if(t[o])return;let i={};const c=e=>n(e,o),h={module:{uri:o},exports:i,require:c};t[o]=Promise.all(s.map(e=>h[e]||c(e))).then(e=>(r(...e),i))}}define(["./worker-to-main-thread-3ad1cee7"],(function(e){const t=(e,t)=>null!=e?"string"==typeof e?"true"===e:!0===e:("string"==typeof t&&(t=parseInt(t,10)),t>=200&&t<300);class n{constructor(){this._queue=[],this._pendingRequests=0}_nextSlot(){if(this._pendingRequests-=1,!this._queue.length)return;const{request:e,resolve:t,reject:n}=this._queue.shift();this._fetch(e).then(t,n)}_fetch(e,n={},s={}){return this._pendingRequests+=1,new Promise((r,o)=>{self.fetch(e,n).then(async function(e){this._nextSlot();const n=!s.checkResponse||!1!==await s.checkResponse(e);if(t(e.ok,e.status)&&n)r(...arguments);else{const t=(null==e?void 0:e.url)||"URL unknown";o(new Error(e.statusText||'Http error "'+(e&&e.status?e.status:"unknown")+'", for "'+t+'"'))}}.bind(this),e=>{this._nextSlot(),o(e)})})}fetch(e,t={},n={}){return this._pendingRequests>=40?new Promise((t,n)=>this._queue.push({request:e,resolve:t,reject:n})):this._fetch(e,t,n)}}class s{constructor(e){this._networkLayer=e}loadAsset(e){return this._networkLayer.fetch(e).then(e=>e.blob()).then(e=>new Promise(t=>t(URL.createObjectURL(e)))).catch(e=>new Promise((t,n)=>n(e)))}}new class{constructor(){this._communicationInterface=new e.WorkerToMainThread(this)}onCommand(e,t,r){switch(e){case 1:this._loader=new s(new n),this._communicationInterface.sendToMainThread(4,t,[]);break;case 5:if(!this._loader)return;this._loader.loadAsset(r).then(e=>{this._communicationInterface.sendToMainThread(3,t,e)},e=>this._communicationInterface.sendToMainThread(2,t,{message:e.message}))}}}}));